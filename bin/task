#!/usr/bin/bash



TASK_URL="https://arkansas.attask-ondemand.com/task/view?ID="
ISSUE_URL="https://arkansas.attask-ondemand.com/issue/view?ID="

TASK_SEARCH_URL="https://arkansas.attask-ondemand.com/search?objCode=TASK&allowRedirect=false&query="
ISSUE_SEARCH_URL="https://arkansas.attask-ondemand.com/search?objCode=OPTASK&allowRedirect=false&query="

if [ -e task.id ]; then
    ID=$(cat task.id)
    echo "Opening task via ID..."
    xdg-open $TASK_URL$ID
elif [ -e issue.id ]; then
    echo "Opening issue via ID..."
    ID=$(cat issue.id)
    xdg-open $ISSUE_URL$ID
elif [ -e task.ref ]; then
    echo "Opening task via Reference Number..."
    ID=$(cat task.ref)
    xdg-open $TASK_SEARCH_URL$ID
elif [ -e issue.ref ]; then
    echo "Opening issue via Reference Number..."
    ID=$(cat issue.ref)
    xdg-open $ISSUE_SEARCH_URL$ID
else
    echo "No task or issue id found!"
fi
